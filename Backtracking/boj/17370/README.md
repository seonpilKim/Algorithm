# [[17370] μ΅κ°ν• μ°λ¦¬ μ†μ κ°λ―Έ](https://www.acmicpc.net/problem/17370)

![](imgs/1.PNG)
![](imgs/2.PNG)
___
## π¤”μ ‘κ·Ό
1. <b>ν•μ–€μƒ‰ λ³€μ„ μΆν‘ν™”ν•μ—¬ μ§μ ‘ νƒμƒ‰ν•λ©΄μ„ κ²½μ°μ μλ¥Ό κµ¬ν•μ</b>
	- μ΄λ™ν•  μ μλ” λ°©ν–¥μ€ ν„μ¬ λ°©ν–¥μ— λ”°λΌ λ‹¤λ¥΄λ©°, κ°κ° 2λ°©ν–¥μΌλ΅ μ›€μ§μΌ μ μκ³ , λ°©ν–¥μ€ μ΄ 6κ°λ§ μ΅΄μ¬ν•λ‹¤.
	- μ΄λ™ν• μΆν‘λ§λ‹¤ ν‘μ‹λ¥Όν•κ³ , Nλ² μ΄λ™ν–μ„ λ•, ν„μ¬ μ„μΉκ°€ ν‘μ‹λ μ„μΉλΌλ©΄ μΉ΄μ΄ν… ν•λ” λ°©μ‹μΌλ΅ κµ¬ν„ν•μ.
___
## π’΅ν’€μ΄
- <b>λ°±νΈλν‚Ή(Backtracking) μ•κ³ λ¦¬μ¦</b>μ„(λ¥Ό) μ‚¬μ©ν•μ€λ‹¤.
	- μ²μ μ„μΉλ” λ°©λ¬Έμƒνƒλ΅ μ²΄ν¬ν•κ³ , μ„μ½ λ°©ν–¥μΌλ΅ μ΄λ™μ‹ν‚¨ ν›„, DFSμ„ μ‹¤μ‹ν•λ‹¤.
		- λ§μ•½ ν„μ¬ μ„μΉκ°€ μ΄λ―Έ λ°©λ¬Έν• μƒνƒλΌλ©΄, return
		- μ΄λ™ νμκ°€ Nλ²μ— λ„λ‹¬ν–μ„ λ•, ν„μ¬ μ„μΉκ°€ λ°©λ¬Έν• μƒνƒλΌλ©΄ counting
		- ν„μ¬ μ„μΉλ¥Ό λ°©λ¬Έ μƒνƒλ΅ μ²΄ν¬ν•κ³ , μ΄λ™κ°€λ¥ν• λ°©ν–¥μΌλ΅ μ΄λ™μ΄ λλ‚λ©΄, ν„μ¬ λ°©λ¬Έ μƒνƒλ¥Ό falseλ΅ λ³€κ²½ν•λ‹¤(back-track)
		1. ν„μ¬ λ°©ν–¥μ΄ β†‘ μ΄λΌλ©΄, β†—, β†– λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
		2. ν„μ¬ λ°©ν–¥μ΄ β†— μ΄λΌλ©΄, β†‘, β† λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
		3. ν„μ¬ λ°©ν–¥μ΄ β† μ΄λΌλ©΄, β†“, β†— λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
		4. ν„μ¬ λ°©ν–¥μ΄ β†“ μ΄λΌλ©΄, β†™, β† λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
		5. ν„μ¬ λ°©ν–¥μ΄ β†™ μ΄λΌλ©΄, β†–, β†“ λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
		6. ν„μ¬ λ°©ν–¥μ΄ β†– μ΄λΌλ©΄, β†™, β†‘ λ°©ν–¥μΌλ΅ μ΄λ™ κ°€λ¥
___
## β ν”Όλ“λ°±
___
## π’» ν•µμ‹¬ μ½”λ“
```c++
void DFS(int n, int row, int col, int dir) {
	if (n == N) {
		if (area[row][col])
			cnt++;
		return;
	}

	if (area[row][col])
		return;
	area[row][col] = true;

	if (dir == UU) {
		DFS(n + 1, row - 1, col + 1, UR);
		DFS(n + 1, row - 1, col - 1, UL);
	}
	else if (dir == UR) {
		DFS(n + 1, row - 1, col, UU);
		DFS(n + 1, row + 1, col + 1, DR);
	}
	else if (dir == DR) {
		DFS(n + 1, row + 1, col, DD);
		DFS(n + 1, row - 1, col + 1, UR);
	}
	else if (dir == DD) {
		DFS(n + 1, row + 1, col + 1, DR);
		DFS(n + 1, row + 1, col - 1, DL);
	}
	else if (dir == DL) {
		DFS(n + 1, row + 1, col, DD);
		DFS(n + 1, row - 1, col - 1, UL);
	}
	else if (dir == UL) {
		DFS(n + 1, row - 1, col, UU);
		DFS(n + 1, row + 1, col - 1, DL);
	}
	area[row][col] = false;
}
```